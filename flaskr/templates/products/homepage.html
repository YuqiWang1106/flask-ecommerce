{% extends 'base.html' %}

{% block title %}Products List{% endblock %}

{% block content %}
<h2>Products we have</h2>

<form method="get" action="{{ url_for('products.list_products') }}">
    <input type="text" name="search" placeholder="Enter the product name" value="{{ request.args.get('search', '') }}">
    <button type="submit">Search</button>
</form>

<h3>Category</h3>
<ul>
    {% for category in range(1, 10) %}
        <li>
            <a href="{{ url_for('products.list_products', category=category) }}">
                Category {{ category }}
            </a>
        </li>
    {% endfor %}
</ul>

{% if products %}
<table border="1">
    <thead>
        <tr>
            <th>ID</th>
            <th>Product Name</th>
            <th>Price</th>
            <th>Category</th>
        </tr>
    </thead>
    <tbody>
        {% for product in products %}
        <tr>
            <td>{{ product["ProductID"] }}</td>
            <td>{{ product["ProductName"] }}</td>
            <td>${{ product["UnitPrice"] }}</td>
            <td>{{ product["CategoryID"] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No matching products</p>
{% endif %}

{% endblock %}

